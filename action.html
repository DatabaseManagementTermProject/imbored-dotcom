<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Simple Test</title>
        
    </head>
    <body>
        <form calss="form">
            <select name="library" id="library">
                <option value="books">Books</option>
                <option value="movies">movies</option>
                <option value="videoGames">Video Games</option>
            </select>
            <select name="action" id="action">
                <option value="getArray">getArray</option>
                <option value="add">Add</option>
                <option value="delete">Delete</option>
            </select>
            TableID: <input type="text" name="tableID" id="tableID">
            <br><br>
            <button type="submit">Submit</button>
        </form>
        <p id="textDisplay">Display here</p>
        
        <script>
            const formEL = document.querySelector("form");
            formEL.addEventListener("submit", event => {
                event.preventDefault();
                const formData = new FormData(formEL);

                // let library = formData.get("library");
                // let action = formData.get("action");
                // let tableID = formData.get("tableID");
                fetch("http://localhost:3002/books")
                    .then(res => res.json())
                    .then(data => {
                        console.log(data);

                        // this is a super crappy way of doing this... we need to standardize our id values and column names across each table.
                        const id = String(document.getElementById("tableID").value).slice(-2);
                        let display = data[id]["title"];
                        console.log(display);
                        document.getElementById("textDisplay").innerHTML = display;
                    })
                    .catch(error => console.log(error));
                

                // let display = "library: " + library + "<br>action: " + action + "<br>tableID: " + tableID;

            })
        </script>
    </body>
</html>
